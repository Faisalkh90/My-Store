<app-nav-bar></app-nav-bar>
<div class="empty-cart-message" *ngIf="cartProducts.length <=0">
  <h1>Sorry, your cart is empty!<br> Please select product </h1>
</div>


<div class="cart-container" *ngIf="cartProducts.length > 0">
  <div class="cart-panel">
    <div class="cart-item" *ngFor="let item of cartProducts">
      <img class = "product-image" [src]="item.url" alt="{{item.name}}">
      <div class="cart-item-details">
        <h3> {{item.name}}</h3>
        <p>${{item.price}}</p>
        <label>Amount : <input class="number-input" type="number" min="0" [(ngModel)] = "item.quantity" (ngModelChange) = "update()"></label>
        <br>
        <button (click) = "remove(item)"  class="btn btn-primary"> Remove product from cart </button>
      </div>

    </div>
    <form>
      <p>Total price: ${{info.totalPrice}}</p>
    </form>
  </div>

  <div class="cart-panel">


    <form class="was-validated" #form="ngForm"  (ngSubmit)="onSubmit()">
      <h1> Checkout </h1>
      <div class="mb-3 mt-3">
      <label  class="form-label">Full Name: </label>
      <input type='text' name='firstName' required class="form-control" minlength="7" placeholder="Enter your full name" [(ngModel)]="info.fullName">
        <div class="valid-feedback">Looks good !</div>
        <div class="invalid-feedback">Please fill out your full name.</div>
      </div>

      <div class="mb-3">
        <label  class="form-label">Address: </label>
      <input type='text' name='address' required  class="form-control" minlength="7" placeholder="Enter your address" [(ngModel)]="info.address">
        <div class="valid-feedback">Looks good !</div>
        <div class="invalid-feedback">Please fill out your address.</div>
      </div>


      <div class="mb-3">
        <label  class="form-label">Credit Card:</label>
      <input type='text' name='creditCard' required  minlength="16" maxlength="16" pattern="^[0-9]*$" class="form-control" placeholder="Enter your credit card" [(ngModel)]="info.cc">
        <div class="valid-feedback">Looks good !</div>
        <div class="invalid-feedback" >Please fill out your credit card with numbers only.</div>
      </div>


      <input [disabled]="form.invalid" type='submit' value="Submit" class="btn btn-primary" />
    </form>



  </div>
</div>


